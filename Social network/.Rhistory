knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(data.table)
library(igraph)
library(ggplot2)
library(gtable)
library(plotly)
library(threejs)
library(visNetwork)
library(htmlwidgets)
library(ggraph)
options(scipen = 99)
df_sputnik <- read.csv2("../Data/df_sputnik_RT_final.csv")
df_sputnik <- df_sputnik %>%
filter(location %like% "argentina")
#Cargamos el data set de la vacuna Sputnik, incluye tweets y retweets
df_pfizer <- read.csv2("../Data/df_pfizer_RT_final.csv")
df_pfizer <- df_pfizer %>%
filter(location %like% "argentina")
View(df_pfizer)
nodos_sp <- gather(data = df_sputnik, key = "tipo", value = "identificacion", c(1,12))
View(nodos_sp)
which.duplicates<-rownames(nodos_sp[duplicated(nodos_sp$identificacion),])
nodos_sp <- nodos_sp[-c(as.integer(which.duplicates)),]
nodos_sp <- nodos_sp %>% select(identificacion, screen_name, is_retweet, favorite_count, retweet_count, verified)  %>%
rename( name = screen_name)
links_sp <- df_sputnik %>% group_by(user_id, retweet_user_id) %>% summarise (cantidad = n()) %>%
rename(from = user_id,
to = retweet_user_id,
friendship = cantidad)
View(links_sp)
nodos_pf <- gather(data = df_pfizer, key = "tipo", value = "identificacion", c(1,12)) #pisamos las columnas y las sustituimos por las nuevas variables
which.duplicates<-rownames(nodos_pf[duplicated(nodos_pf$identificacion),])
nodos_pf <- nodos_pf[-c(as.integer(which.duplicates)),]
nodos_pf <- nodos_pf %>% select(identificacion, screen_name, is_retweet, favorite_count, retweet_count, verified)  %>%
rename( name = screen_name)
links_pf <- df_pfizer %>% group_by(user_id, retweet_user_id) %>% summarise(cantidad = n()) %>%
rename(from = user_id,
to = retweet_user_id,
friendship = cantidad)
